ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice, size=0.5))
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice))
ggplot(country, aes(sort(mean), country, size=5)) +
geom_point(aes(color = justice, shape = justice))
ggplot(country, aes(sort(mean), country, size=3)) +
geom_point(aes(color = justice, shape = justice))
ggplot(country, aes(sort(mean), country, size=1)) +
geom_point(aes(color = justice, shape = justice))
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice))
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), , size = 3)
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3)
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 4)
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3.5)
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3.8)
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlabel("average per country")
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlab("average per country")
ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlab("average")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlab("average")
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlab("average")
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlab("average") +
xlim(0, 5)
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.8) +
xlab("average") +
xlim(1, 5)
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.5) +
xlab("average") +
xlim(1, 5)
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average") +
xlim(1, 5)
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
data_chile %>% mean(v30, na.rm=T)
data_chile$v30 <- as.numeric(data_chile$v30)
data_chile %>% mean(v30, na.rm=T)
data_chile <- data %>% filter(country==152)
data_chile$v30 <- as.numeric(data_chile$v30)
data_chile %>% mean(v30, na.rm=T)
data_chile %>% mean(v30, na.rm=TRUE)
class(data_chile$v30)
mean(data_chile$v30, na.rm=TRUE)
data_chile$v31 <- as.numeric(data_chile$v31)
mean(data_chile$v31, na.rm=TRUE)
data %>% filter(country==152) %>% mean(v30, na.rm=TRUE)
pacman::p_load(dplyr, ggplot2, sjPlot, haven, sjlabelled, tidyverse)
ISSP2019 <- read_sav("input/data/original/ISSP2019.sav")
data <- ISSP2019
data$v30 <- factor(data$v30, labels = c("Very just, definitely right", "Somewhat just, right", "Neither just nor unjust, mixed feelings", "Somewhat unjust, wrong", "Very unjust, definitely wrong"))
data$v30 <- set_label(data$v30, label = "Just or unjust that people with higher incomes can buy better health care than people with lower incomes?")
data$v31 <- factor(data$v31, labels = c("Very just, definitely right", "Somewhat just, right", "Neither just nor unjust, mixed feelings", "Somewhat unjust, wrong", "Very unjust, definitely wrong"))
data$v31 <- set_label(data$v31, label = "Just or unjust that people with higher incomes can buy better education for children than people with lower incomes?")
issp2019 <- sjPlot::plot_stackfrq(select(data, v30, v31), geom.size = 0.4) +
theme_bw() +
theme(legend.position="bottom")
issp2019
data$v30 <- as.numeric(data$v30)
data$v31 <- as.numeric(data$v31)
health <- data %>% group_by(country) %>%
summarise(health = mean(v30, na.rm=TRUE)) %>%
ungroup() %>%
mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(education = mean(v31, na.rm=TRUE)) %>%
ungroup() %>%
mutate(country = factor(country, labels = get_labels(country)))
country <- left_join(health, education, by="country")
country <- country %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average") +
xlim(1, 5)
cleveland_issp
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
health <- data %>% group_by(country) %>%
summarise(health = mean(v30, na.rm=TRUE)) %>%
ungroup()
health <- health %>% mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(education = mean(v31, na.rm=TRUE)) %>%
ungroup()
education <- education %>% mutate(country = factor(country, labels = get_labels(country)))
country <- left_join(health, education, by="country")
country <- country %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
health <- data %>% group_by(country) %>%
summarise(health = mean(v30, na.rm=TRUE)) %>%
ungroup()
health <- health %>% mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(education = mean(v31, na.rm=TRUE)) %>%
ungroup()
View(education)
education <- education %>% mutate(country = factor(country, labels = get_labels(country)))
country <- left_join(health, education, by="country")
View(country)
country <- country %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(country, aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(country, aes(mean, sort(country))) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(country, sort(aes(mean, country))) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp <- ggplot(country, aes(arrange(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
health <- data %>% group_by(country) %>%
summarise(health = mean(v30, na.rm=TRUE)) %>%
arrange(health) %>%
ungroup()
health <- health %>% mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(education = mean(v31, na.rm=TRUE)) %>%
ungroup()
education <- education %>% mutate(country = factor(country, labels = get_labels(country)))
country <- left_join(health, education, by="country")
country <- country %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(country, aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(country, aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(country, aes(arrange(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
health <- data %>% group_by(country) %>%
summarise(health = mean(v30, na.rm=TRUE)) %>%
arrange(health) %>%
ungroup()
health <- health %>% mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(education = mean(v31, na.rm=TRUE)) %>%
ungroup()
education <- education %>% mutate(country = factor(country, labels = get_labels(country)))
country <- left_join(health, education, by="country")
country <- country %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(country, aes(mean, country)) +
theme_bw() +
geom_point(stat = "identity", aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
base <- left_join(health, education, by="country")
base <- country %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
base <- base %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(base, aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(base, aes(country, mean)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(base, aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(base, aes(desc(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- ggplot(base, aes(arrange(desc(mean)), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
health <- data %>% group_by(country) %>%
summarise(health = mean(v30, na.rm=TRUE)) %>%
arrange(health) %>%
mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(education = mean(v31, na.rm=TRUE)) %>%
arrange(education) %>%
mutate(country = factor(country, labels = get_labels(country)))
base <- left_join(health, education, by="country")
View(base)
base <- base %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
cleveland_issp <- ggplot(base, aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
ggplot(base, aes(mean, country)) +
geom_point(aes(color = justice))
ggplot(base, aes(sort(mean), country)) +
geom_point(aes(color = justice))
ggplot(base, aes(desc(mean), country)) +
geom_point(aes(color = justice))
ggplot(base, aes(desc(arrange(mean)), country)) +
geom_point(aes(color = justice))
ggplot(base, aes(arrange(desc(mean)), country)) +
geom_point(aes(color = justice))
cleveland_issp <- base %>% ggplot(aes(arrange(desc(mean)), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(mean, country)) +
theme_bw() +
geom_point(aes(color = sort(justice), shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(-mean, country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average")
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average") +
xlim(1,5)
cleveland_issp
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(Country = factor(country, levels = .$country))
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, levels = .$country))
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, levels = .$country, labels = get_labels(country)))
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, labels = get_labels(country), levels = .$country))
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, levels = .$country))
education <- data %>% group_by(country) %>%
summarise(Education = mean(v31, na.rm=TRUE)) %>%
arrange(Education) %>%
mutate(country = factor(country, levels = .$country))
education <- data %>% group_by(country) %>%
summarise(Education = mean(v31, na.rm=TRUE)) %>%
arrange(Education) %>%
mutate(country = factor(country, levels = .$country)) %>%
mutate(country = factor(country, labels = get_labels(country)))
education <- data %>% group_by(country) %>%
summarise(Education = mean(v31, na.rm=TRUE)) %>%
arrange(Education) %>%
mutate(country = as_factor(country, levels = .$country))
education <- data %>% group_by(country) %>%
summarise(Education = mean(v31, na.rm=TRUE)) %>%
arrange(Education) %>%
mutate(country = factor(country, levels = .$country))
base <- left_join(health, education, by="country")
base <- base %>% pivot_longer(c("health", "education"), names_to="justice", values_to="mean")
base <- base %>% pivot_longer(c("Health", "Education"), names_to="justice", values_to="mean")
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average") +
xlim(1,5)
cleveland_issp
health$country <- factor(country, labels = get_labels(data$country))
health$country <- factor(health$country, labels = get_labels(data$country))
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, levels = .$country))
health$country <- factor(health$country, labels = get_labels(data$country))
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, levels = .$country))
data$country <- factor(data$country, labels = get_labels(data$country))
View(data)
health <- data %>% group_by(country) %>%
summarise(Health = mean(v30, na.rm=TRUE)) %>%
arrange(Health) %>%
mutate(country = factor(country, levels = .$country))
education <- data %>% group_by(country) %>%
summarise(Education = mean(v31, na.rm=TRUE)) %>%
arrange(Education) %>%
mutate(country = factor(country, levels = .$country))
base <- left_join(health, education, by="country")
base <- base %>% pivot_longer(c("Health", "Education"), names_to="justice", values_to="mean")
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average") +
xlim(1,5)
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.5) +
xlab("average") +
xlim(1,5)
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 5) +
xlab("average") +
xlim(1,5)
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 4) +
xlab("average") +
xlim(1,5)
cleveland_issp
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.5) +
xlab("average") +
xlim(1,5)
cleveland_issp
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3.3) +
xlab("average") +
xlim(1,5)
cleveland_issp
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
cleveland_issp <- base %>% ggplot(aes(sort(mean), country)) +
theme_bw() +
geom_point(aes(color = justice, shape = justice), size = 3) +
xlab("average") +
xlim(1,5)
cleveland_issp
ggsave(cleveland_issp, file = "output/graphs/cleveland_issp.png",device = "png",width = 25,height = 13,dpi = "retina",units = "cm")
pacman::p_load(haven, dplyr, summarytools, sjmisc, car, sjlabelled, webshot, sjPlot, ggplot2)
load("input/data/proc/alumnos_patterns.RData")
load("input/data/proc/apoderados_patterns.RData")
data_est <- alumnos_patterns %>% dplyr::select(idalumno,
sexo,
codigoCurso,
mrbd,
cod_depe2, #dependencia administrativa
cod_grupo, #categorizacion socioeconomica
simce_lect=prom_lect8b_rbd, #Promedio lectura escuela
simce_mate=prom_mate8b_rbd, # Promedio matematica escuela
inteligencia_esc=est_p6_1, # inteligencia escolar
esfuerzo_esc=est_p6_2, # esfuerzo escolar
esfuerzo_soc=est_p38_2, #esfuerzo social
merito_soc=est_p38_3, #merito social
inteligencia_soc=est_p38_4, #inteligencia social
just_pension=est_p39_1, #justicia pension
just_educ=est_p39_2, # justicia educacion
just_salud=est_p39_3, # justicia salud
redistribucion=est_p39_4, # redistribucion
libros=est_p3, # cantidad de libros
pc=est_p4_1, # tiene pc
tablet=est_p4_2, # tiene tablet
celular=est_p4_3 # tiene celular
) %>% as.data.frame(.)
data_apod <- apoderados_patterns %>% dplyr::select(idalumno,
educacion=educ_max, # nivel educacional mas alto
internet=apod_p9 # conexion a internet en la casa
) %>% as.data.frame(.)
data <- left_join(data_est, data_apod, by="idalumno")
rm(apoderados_patterns, alumnos_patterns, data_est, data_apod)
# Educacion. 10 categorías, se recodifican en 4 y una de no sabe y no responde
data$educacion_rec <- ifelse(is.na(data$educacion), "Ns/Nr", data$educacion)
data <- data %>% rowwise() %>%  mutate(educacion_rec = case_when(educacion_rec==1~"8th grade or less",
educacion_rec==2~"8th grade or less",
educacion_rec==3~"8th grade or less",
educacion_rec==4~"Secondary Education",
educacion_rec==5~"Secondary Education",
educacion_rec==6~"Higher tec. education",
educacion_rec==7~"Higher tec. education",
educacion_rec==8~"University or Postgraduate",
educacion_rec==9~"University or Postgraduate",
educacion_rec==10~"University or Postgraduate",
educacion_rec=="Ns/Nr"~"Missing"
))
data$educacion_rec <- factor(data$educacion_rec, levels = c("8th grade or less", "Secondary Education", "Higher tec. education", "University or Postgraduate", "Missing"))
data$educacion_rec <- set_label(data$educacion_rec,label = "Parental educational level")
## Proporcion de Universidad o posgrado por escuela
data <- data %>% group_by(mrbd) %>%
mutate(mean_educ = mean(educacion_rec=="University or Postgraduate", na.rm=T))
data$mean_educ <- set_label(data$mean_educ,label = "Proportion of parents with university level by school")
# Internet
data <- data %>% set_na(internet, na = c(0,99), drop.levels = FALSE, as.tag = FALSE) # recode missings de doble marca (99) y vacío (0) a NA
data$internet_rec <- ifelse(is.na(data$internet), "Missing", data$internet)
data$internet_rec <- factor(data$internet_rec, levels = c("1", "2"), labels = c("Yes", "No"))
# libros
data$libros_rec <- as.numeric(data$libros)
data <- data %>% rowwise() %>% mutate(libros_rec = case_when(libros_rec==1 ~ "Les than 25",
libros_rec==2 ~ "Les than 25",
libros_rec==3 ~ "More than 25",
libros_rec==4 ~ "More than 25",
libros_rec==5 ~ "More than 25"))
data$libros_rec <- factor(data$libros_rec, levels = c("Les than 25", "More than 25"))
data$libros_rec <- set_label(data$libros_rec,label = "Number of books at home")
## Promedio simce
data <- data %>% rowwise() %>% mutate(prom_simce = mean(simce_lect,simce_mate))
data$simce <- ntile(data$prom_simce,3)
data$simce <- factor(data$simce, labels = c("Low", "Medium", "High"))
data$simce <- set_label(data$simce,label = "SIMCE score by school")
# Acceso a tecnologia
data$pc <- as.numeric(data$pc)
data$tablet <- as.numeric(data$tablet)
data$celular <- as.numeric(data$celular)
data <- data %>% rowwise() %>% dplyr::mutate(acc_tec = sum(pc, tablet, celular, na.rm = T))
data$acc_tec <- set_label(data$acc_tec,label = "Technology access index")
dependientes <- data %>% dplyr::select(just_pension, just_educ, just_salud)
dependientes$pension_rec <- as.numeric(dependientes$just_pension)
dependientes$educ_rec <- as.numeric(dependientes$just_salud)
dependientes$salud_rec <- as.numeric(dependientes$just_educ)
dependientes <- dependientes %>% rowwise() %>% dplyr::mutate(bienestar = mean(c(educ_rec, salud_rec, pension_rec)))
dependientes$bienestar <- round(dependientes$bienestar, 2)
dependientes <- dependientes %>% dplyr::select(-pension_rec, -educ_rec, -salud_rec)
dependientes$just_pension <- factor(dependientes$just_pension, levels = c("Muy desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo"), labels = c("Strongly disagree", "Disagree", "Agree", "Strongly agree"))
dependientes$just_pension <- set_label(dependientes$just_pension, label = "It is just that in Chile people with higher incomes can have better pensions than people with low incomes")
dependientes$just_salud <- factor(dependientes$just_salud, levels = c("Muy desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo"), labels = c("Strongly disagree", "Disagree", "Agree", "Strongly agree"))
dependientes$just_salud <- set_label(dependientes$just_salud,label = "It is just that in Chile people with higher incomes can access better health services than people with low incomes")
dependientes$just_educ <- factor(dependientes$just_educ, levels = c("Muy desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo"), labels = c("Strongly disagree", "Disagree", "Agree", "Strongly agree"))
dependientes$just_educ <- set_label(dependientes$just_educ,label = "It is just that in Chile people who can pay have a better education for their children")
dependientes$bienestar <- set_label(dependientes$bienestar,label = "Index of access to social services")
dependientes$redistribucion <- factor(dependientes$redistribucion, levels = c("Muy desacuerdo", "Desacuerdo", "De acuerdo", "Muy de acuerdo"), labels = c("Strongly disagree", "Disagree", "Agree", "Strongly agree"))
df<- dfSummary(dependientes,
plain.ascii = FALSE,
style = "grid",
tmp.img.dir = "/tmp",
graph.magnif = 0.75,
headings = F,  # encabezado
varnumbers = F, # num variable
labels.col = T, # etiquetas
na.col = F,    # missing
graph.col = T, # plot
valid.col = T, # n valido
col.widths = c(1000,10,10,10,10))
df$Variable <- NULL # delete variable column
view(df,file = "output/tables/desc01.html")
webshot2::webshot(url ="output/tables/desc01.html" ,file ="output/tables/desc01.png")
